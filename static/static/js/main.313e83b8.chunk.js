(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{118:function(e,t,a){e.exports=a(248)},123:function(e,t,a){},124:function(e,t,a){},133:function(e,t){},135:function(e,t){},173:function(e,t){},174:function(e,t){},248:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(113),c=a.n(s),o=(a(123),a(124),a(16)),i=a(20),u=a(25),l=a(26),p=a(31),m=a(27),h=a(17),d=a(30),g=a(28),f=a(29),b=a(10),v=a.n(b),w=a(19),j=a(39),y=a.n(j),E=a(114),x=a.n(E),O=function(){return x.a.decode(y.a.get("jwt"))},k=function(){var e=Object(w.a)(v.a.mark(function e(t){var a,n,r,s;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.username,n=t.password,e.next=3,fetch("/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:a,password:n})});case 3:return r=e.sent,e.next=6,r.json();case 6:if((s=e.sent).err){e.next=12;break}return y.a.set("jwt",s.jwt),e.abrupt("return",!0);case 12:throw new Error(s.err);case 13:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(w.a)(v.a.mark(function e(t){var a,n,r,s,c;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.username,n=t.nickname,r=t.password,e.next=3,fetch("/api/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:a,nickname:n,password:r})});case 3:return s=e.sent,e.next=6,s.json();case 6:if((c=e.sent).err){e.next=12;break}return y.a.set("jwt",c.jwt),e.abrupt("return",!0);case 12:return e.abrupt("return",c.err);case 13:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),S=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(m.a)(t).call(this,e))).logout=a.logout.bind(Object(h.a)(a)),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"logout",value:function(){y.a.remove("jwt"),this.props.history.push("/")}},{key:"render",value:function(){return r.a.createElement("div",{className:"p-grid p-justify-center p-align-center",style:{height:"100vh",margin:"10px"}},r.a.createElement(g.Card,{className:"p-col-12 p-md-4 p-no-gutter"},r.a.createElement("div",{className:"p-grid p-dir-col p-no-gutter"},r.a.createElement("h1",{className:"p-col"},"Welcome ",O().user,"!"),r.a.createElement(f.Button,{onClick:this.logout,label:"Sign out",className:"p-col"}))))}}]),t}(n.Component),C=Object(i.e)(S),T=a(21),I=a(47),B=a.n(I),J=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(m.a)(t).call(this,e))).state={username:"",password:""},a.handleSubmit=a.handleSubmit.bind(Object(h.a)(a)),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"handleSubmit",value:function(){var e=Object(w.a)(v.a.mark(function e(t){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,k({username:this.state.username,password:this.state.password});case 4:e.sent&&this.props.history.push("/dash"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),alert(e.t0);case 11:case"end":return e.stop()}},e,this,[[1,8]])}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"p-grid p-justify-center p-align-center",style:{height:"100vh",margin:"10px"}},r.a.createElement(g.Card,{className:"p-col-12 p-md-4 p-no-gutter"},r.a.createElement("img",{src:B.a,alt:"",style:{width:"100%"}}),r.a.createElement("form",{onSubmit:this.handleSubmit,className:"p-grid p-dir-col p-no-gutter"},r.a.createElement("h1",null,"Login"),r.a.createElement(T.InputText,{className:"p-col",value:this.state.username,placeholder:"Username",style:{margin:"5px"},onChange:function(t){return e.setState({username:t.target.value})}}),r.a.createElement(T.InputText,{className:"p-col",type:"password",value:this.state.password,placeholder:"Password",style:{margin:"5px"},onChange:function(t){return e.setState({password:t.target.value})}}),r.a.createElement(f.Button,{type:"submit",label:"Sign In",className:"p-col",style:{margin:"5px"}}),r.a.createElement("p",null,"or ",r.a.createElement(o.b,{to:"/register"}," register")))))}}]),t}(n.Component),P=Object(i.e)(J),D=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(m.a)(t).call(this,e))).state={username:"",nickname:"",password:""},a.handleSubmit=a.handleSubmit.bind(Object(h.a)(a)),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"handleSubmit",value:function(){var e=Object(w.a)(v.a.mark(function e(t){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,N({username:this.state.username,nickname:this.state.nickname,password:this.state.password});case 4:e.sent&&this.props.history.push("/dash"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),alert(e.t0);case 11:case"end":return e.stop()}},e,this,[[1,8]])}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"p-grid p-justify-center p-align-center",style:{height:"100vh",margin:"10px"}},r.a.createElement(g.Card,{className:"p-col-12 p-md-4 p-no-gutter"},r.a.createElement("img",{src:B.a,alt:"",style:{width:"100%"}}),r.a.createElement("form",{onSubmit:this.handleSubmit,className:"p-grid p-dir-col p-no-gutter"},r.a.createElement("h1",null,"Registration"),r.a.createElement(T.InputText,{className:"p-col",value:this.state.username,placeholder:"Username",style:{margin:"5px"},onChange:function(t){return e.setState({username:t.target.value})}}),r.a.createElement(T.InputText,{className:"p-col",value:this.state.nickname,placeholder:"Nickname",style:{margin:"5px"},onChange:function(t){return e.setState({nickname:t.target.value})}}),r.a.createElement(T.InputText,{className:"p-col",type:"password",value:this.state.password,placeholder:"Password",style:{margin:"5px"},onChange:function(t){return e.setState({password:t.target.value})}}),r.a.createElement(f.Button,{type:"submit",label:"Register",className:"p-col",style:{margin:"5px"}}),r.a.createElement("p",null,"or ",r.a.createElement(o.b,{to:"/login"}," login")))))}}]),t}(n.Component),W=Object(i.e)(D),R=a(117),U=function(e){var t=e.component,a=Object(R.a)(e,["component"]);return r.a.createElement(i.b,Object.assign({},a,{render:function(e){return function(){var e=O();if(console.log(e),!e)return!1;var t=e.exp;return(new Date).getTime()<1e3*t}()?r.a.createElement(t,e):r.a.createElement(i.a,{to:{pathname:"/login",state:{from:e.location}}})}}))};var L=function(){return r.a.createElement(o.a,null,r.a.createElement(i.b,{exact:!0,path:"/",render:function(){return r.a.createElement(i.a,{to:"/dash"})}}),r.a.createElement(i.b,{path:"/login",exact:!0,component:P}),r.a.createElement(i.b,{path:"/register",exact:!0,component:W}),r.a.createElement(U,{path:"/dash",exact:!0,component:C}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(244),a(245),a(246),a(247);c.a.render(r.a.createElement(L,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},47:function(e,t,a){e.exports=a.p+"static/media/bone.55f8019e.png"}},[[118,1,2]]]);
//# sourceMappingURL=main.313e83b8.chunk.js.map